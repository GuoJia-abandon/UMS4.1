<!DOCTYPE html>
    <html lang="en">
    <head>
    	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    	<meta charset="utf-8" />
    	<title>密码修改页面</title>
    	<!-- bootstrap & fontawesome -->
    	<link rel="stylesheet" href="/css/bootstrap.min.css" />
    	<link rel="stylesheet" href="/css/fileinput.min.css"/>
    	<link rel="stylesheet" href="/font-awesome/4.2.0/css/font-awesome.min.css" />


    	<!-- text fonts -->
    	<link rel="stylesheet" href="/fonts/fonts.googleapis.com.css" />


    	<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    	<script src="/js/bootstrap.min.js"></script>
        <script src="/js/jquery-3.5.1.min.js"></script>
    	<script src="/js/html5shiv.min.js"></script>
    	<script src="/js/respond.min.js"></script>
    	<script src="/js/jquery.validate.min.js"></script>


    	<script type="application/javascript">

    	 $(function() {
         $("#registerForm").validate({
                 submitHandler: function() {
                 var formData = $("#registerForm").serialize();
                 alert(formData);
                 $.ajax({
                     url:"/user/register",
                     dataType:"json",
                     type:"post",
                     data:formData,
                     success:function(data) {
                         if (data){
                            alert("注册成功！");
                             location.href = "/user/login";
                         } else {
                            alert("注册失败!");
                         }
                     }
                 })
                 },
                 rules:{
                 	oldpassword:{
                 		required:true,
                         minlength: 6,
                 	},
                     password:{
                        required:true,
                         minlength: 6,
                     },
                     confirmPassword:{
                         required:true,
                         equalTo:"#password"
                     }
                 },
                 messages:{
                    oldpassword:{
                     required:"请填写您的密码",
                     minlength:"登录密码最少六位"
                    },
                     password:{
                        required:"请填写您的密码",
                        minlength:"登录密码最少六位"
                     },
                     confirmPassword:{
                        required:"请再次确认您的登录密码",
                         equalTo: "两次填写的密码不一致"
                     }
                    }
         })
       })



        </script>

    </head>
    <body>
    <div class="container">
    			<div class="row">
    				<div class="col-md-12">
    					<form id="registerForm">
                                <fieldset>

                                    <label class="block clearfix">
                                        <span class="block input-icon input-icon-right">
                                             <input type="text" id="oldpassword" name="oldpassword" class="form-control" placeholder="请输入您的旧密码：" />
                                            <i class="ace-icon fa fa-phone"></i>
                                        </span>
                                        <label id="name-error" class="error" for="oldpassword" style="color: red;font-size: 14px;"></label>
                                      </label>


                                    <label class="block clearfix">
                                                <span class="block input-icon input-icon-right">
                                                    <input type="password" id="password" name="password" class="form-control" placeholder="请输入您的新密码" />
                                                    <i class="ace-icon fa fa-lock"></i>
                                                </span>
                                                <label id="name-error" class="error" for="password" style="color: red;font-size: 14px;"></label>
                                    </label>


                                    <label class="block clearfix">
                                                <span class="block input-icon input-icon-right">
                                                    <input type="password" name="confirmPassword" class="form-control" placeholder="确认密码" />
                                                    <i class="ace-icon fa fa-retweet"></i>
                                                </span>
                                                <label id="name-error" class="error" for="confirmPassword" style="color: red;font-size: 14px;"></label>
                                    </label>

                                    <div class="space-24" style="margin: 10px "></div>

                                    <div class="clearfix">
                                        <button type="reset" class="width-30 pull-left btn btn-sm">
                                            <i class="ace-icon fa fa-refresh"></i>
                                            <span class="bigger-110">重置</span>
                                        </button>

                                        <button type="submit" class="width-65 pull-right btn btn-sm btn-success">
                                            <span class="bigger-110">提交</span>

                                            <i class="ace-icon fa fa-arrow-right icon-on-right"></i>
                                        </button>
                                    </div>
                                </fieldset>
                            </form>
    				</div>
    			</div>
    		</div>


    </body>
</html>
